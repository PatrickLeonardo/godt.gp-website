<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GODT.GP</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    
    <header>
        <div id="icon">
            <a href="pages/login.html"><img src="icons/user.png" height="40px" width="40px"></a>
        </div>

        <h1>GODT</h1>
    </header>

    <div id="products"></div>

    <script>
        
        fetch('https://godt-gp-website-1z98hphdu-patrickleonardo.vercel.app/get_products')
            .then(response => response.json()
                .then(data => {
                
                    var row = 1;
                    data.forEach(produto => {
                    
                        const products = document.getElementById('products');
                        const product = document.createElement('div');
                        product.id = 'product'
                        product.style.display = 'grid';
                        product.style.gridRowStart = row;
                        product.style.gridRowEnd = row+1;

                        product.innerHTML = `<img src='${produto.image_url}'></span><br><br><span style="padding-top: 20px">${produto.name}</span><br><span>${produto.price}</span><span><button id="link"><a href="https://api.whatsapp.com/message/67XGGWRNE53IM1">Buy on WhatsApp</a></button>`;
                        products.appendChild(product);

                        row ++;

                    });

                }).catch(error => {
                    console.error('Erro ao obter produtos: ', error);        
                }));

    </script>

</body>
</html>
